<div id="Page_welcome" class="page-welcome">
    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <div class="box-body" id="JS_getWelcomeCaseCount"></div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="box box-solid">
               <!--  <div class="box-header">
                    <h3 class="box-title">上线日历</h3>
                    <div class="pull-right">2017年4月13日</div>
                </div> -->
                <div class="box-body no-padding" style="overflow: hidden;">
                    <div class="row welcome-calendar">
                        <div class="col-md-5 calendar-title">
                            <h3>上线日历</h3>
                            <p name="showTime"></p>
                        </div>
                        <div class="col-md-7">
                            <!--The calendar -->
                            <div id="JS_onlineCalendar" class="calendar-content" style="width: 100%;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box box-solid">
                <div class="box-header">
                    <h3 class="box-title">近半年入网信息分析</h3>
                </div>
                <div class="box-body">
                    <!--The calendar -->
                    <div id="JS_onlineCharts" style="width: 100%; height:300px; margin-top: -35px;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="box box-solid">
                <div class="box-header">
                    <h3 class="box-title">上线流水</h3>
                    <div class="box-tools">
                        <div class="page-list pull-right">
                            <ul name="complimeNum"></ul>
                        </div>
                        <!-- <span class="flow-online-tips pull-right">本次上线已发布<span name="maxNum"></span>次</span> -->
                    </div>
                </div>
                <div class="box-body" id="JS_getWelcomeFlowList" style="padding: 10px 0;"></div>
            </div>
        </div>
    </div>
</div>
<style>
    .page-welcome .box .timeline-item{
        box-shadow:none;
    }
    .page-welcome .page-list,
    .page-welcome .page-list ul li{
        list-style: none;
        font-size:12px;
        color:#999;
        line-height:20px;
        float:left;
        margin-left:5px;
        padding: 0;
    }
    .page-welcome .page-list ul{
        padding: 0;
        margin-right: 10px;
    }
    .page-welcome .page-list ul li{
        width:20px;
        height: 20px;
        border-radius: 50%;
        text-align:center;
        border:1px solid #999;
        cursor:pointer;
    }
    .page-welcome .page-list ul li.active{
        color:#fff;
        background:#44abe6;
        border:1px solid #44abe6;
    }
    .page-welcome .flow-online-tips{
        color: #787878;
    }
    .page-welcome .datepicker table tr td.disabled,
    .page-welcome .datepicker table tr td.disabled:hover{
        color: #ddd;
    }
    .page-welcome .calendar-content .datepicker table tr td,
    .page-welcome .calendar-content .datepicker table tr th{
        border-radius: 5px;
    }
    .page-welcome .datepicker table tr td,
    .page-welcome .datepicker table tr th{
        width: auto;
        height: 30px;
        line-height: 22px;
    }
    .page-welcome .datepicker table tr td.active.active,
    .page-welcome .datepicker table tr td.active:hover.active{
        background: #44abe5;
        border-color: #44abe5;
        color: #fff !important;
    }
    .page-welcome .datepicker table tr td.today,
    .page-welcome .datepicker table tr td.today:hover,
    .page-welcome .datepicker table tr td.today.disabled,
    .page-welcome .datepicker table tr td.today.disabled:hover {
        color: #000000;
        background: rgba(156,156,156,0.2);
        border-color: #ffb733;
    }
</style>
<!-- handlebars/获取总计结果 -->
<script id="TPL_getWelcomeCaseCount" type="text/x-handlebars-template">
<div class="row info-count">
    <div class="col-md-3 col-sm-6 col-xs-12">
        <span class="info-box-icon bg-aqua"><i class="fa fa-bar-chart"></i></span>
        <div class="info-box-content">
            <span class="info-box-text">验收环境用例数</span>
            <span class="info-box-number text-aqua">{{checkCaseTotalCount}}</span>
        </div>
    </div>
    <div class="col-md-3 col-sm-6 col-xs-12">
        <span class="info-box-icon bg-green"><i class="fa fa-pie-chart"></i></span>
        <div class="info-box-content">
            <span class="info-box-text">生产环境用例数</span>
            <span class="info-box-number text-green">{{proCaseTotalCount}}</span>
        </div>
    </div>
    <div class="col-md-3 col-sm-6 col-xs-12">
        <span class="info-box-icon bg-red"><i class="fa fa-line-chart"></i></span>
        <div class="info-box-content">
            <span class="info-box-text">验收环境自动转换率</span>
            <span class="info-box-number text-red">{{{setSmallTag checkSucRate}}}</span>
        </div>
    </div>
    <div class="col-md-3 col-sm-6 col-xs-12">
        <span class="info-box-icon bg-yellow"><i class="fa fa-area-chart"></i></span>
        <div class="info-box-content">
            <span class="info-box-text">生产环境自动转换率</span>
            <span class="info-box-number text-yellow">{{{setSmallTag proSucRate}}}</span>
        </div>
    </div>
</div>
</script>
<!-- handlebars/流程节点接口 -->
<script id="TPL_getWelcomeFlowList" type="text/x-handlebars-template">
{{#each this}}
<ul class="timeline {{checkIsNotHide @index activeNum}}">
    {{#each flowList}}
    <li>
        <i class="fa {{getTypeClassName type}}" data-toggle="tooltip" data-placement="bottom" title="{{getTypeTitle type}}"></i>
        <div class="timeline-item">
            <span class="time"><i class="fa fa-clock-o"></i> {{time}}</span>
            <h3 class="timeline-header">{{processName}}</h3>
            {{#if ext1}}
                <div class="timeline-body">
                    <p>{{ext1}}</p>
                </div>
            {{/if}}
        </div>
    </li>
    {{/each}}
    <li>
        <i class="fa fa-clock-o bg-gray"></i>
    </li>
</ul>
{{/each}}
</script>
<script>
seajs.use("script/welcome", function(Query) {
    Query.init();
});
</script>