/*! webui 05-05-2016 */
function bindInputEvent(a,b,c){function d(a,b){var c=parseInt(window.getComputedStyle(a).height,10),d=c-a.clientHeight;a.style.height=0,a.style.height=Math.max(b,a.scrollHeight+d)+"px"}var e=a||!1,f=b||!1,g=c||!1;if($(".ui-input").each(function(){var a=$(this);a.bind("touchstart",function(){var b=$(this).val();a.val("").val(b),a.next(".js-ui-clear").removeClass("fn-hide")}),a.bind("focus",function(){var b=$(this).val();a.val("").val(b),a.next(".js-ui-clear").removeClass("fn-hide")}),a.bind("blur",function(){setTimeout(function(){a.next(".js-ui-clear").addClass("fn-hide")},100)})}),e&&$(".js-ui-clear").each(function(){$(this).bind("touchstart",function(){$(this).prev().val("").focus()})}),f){var h=null;$(".js-ui-look").bind("touchstart",function(){h=$(this).parent().find("input")}),$(".js-ui-look").bind("touchend",function(){"text"==h.attr("type")?(h.attr("type","password"),$(this).css("background","url(img/look.png) no-repeat center"),$(this).css("background-size","contain"),h.focus()):(h.attr("type","text"),$(this).css("background","url(img/look-on.png) no-repeat center"),$(this).css("background-size","contain"),h.focus())})}g&&$(".ui-textarea").bind("input propertychange",function(){var a=parseInt($(this).val().length),b=parseInt($(this).attr("maxlength")),c=b-a;b>a||a==b?$(this).next(".ui-textarea-tip").find("span").html(b-a):$(this).next(".ui-textarea-tip").find("span").html(0),c>10?$(this).next(".ui-textarea-tip").hide():$(this).next(".ui-textarea-tip").show()}),$(".js-textarea").each(function(){var a=this;a.style.boxSizing=a.style.mozBoxSizing="border-box",a.style.overflowY="hidden";var b=a.scrollHeight;a.addEventListener("input",function(){d(a,b)}),window.addEventListener("resize",function(){d(a,b)})})}function AIUiload(funcObj,msg){if("function"==typeof funcObj)tmp_fun=funcObj;else{if("string"!=typeof funcObj)return void console.log("error parameter!Please pass a function or string!");tmp_fun=function(){eval(funcObj)}}if(null==$(".ui-uiload")||$(".ui-uiload").length<=0){var _load=$("<div>").addClass("ui-uiload").appendTo($("body"));$("<img>").attr("width",32).attr("height",32).attr("src","img/ui-loading.gif").addClass("ui-uiload-img").appendTo(_load);var _wid=_load.width()+127,_hid=_load.height(),clientWidth=$(window).width(),clientHeight=$(window).height();_load.css("margin-left",-_wid/2+"px"),_load.css("margin-top",-_hid/2+"px"),_load.fadeIn()}else $(".ui-uiload").fadeIn();null!=msg&&""!=msg&&($("<p>").addClass("ui-uiload-text").appendTo($(".ui-uiload")).html(msg),$(".ui-uiload").fadeIn()),window.setTimeout("tmp_fun();enduiload();",10)}function enduiload(){var a=$(".ui-uiload");null!=a&&a.fadeOut()}!function(a){"use strict";function b(a){a.touches||(a.touches=a.originalEvent.touches)}function c(a,b){b._startY=a.touches[0].pageY,b.opts.scrollArea==window?(b._meHeight=h.height(),b._childrenHeight=i.height()):(b._meHeight=b.$element.height(),b._childrenHeight=b.$element.children().height()),b._scrollTop=b.$scrollArea.scrollTop()}function d(b,c){c._curY=b.touches[0].pageY,c._moveY=c._curY-c._startY,c._moveY>0?c.direction="down":c._moveY<0&&(c.direction="up");var d=Math.abs(c._moveY);""!=c.opts.loadUpFn&&c._scrollTop<=0&&"down"==c.direction&&(b.preventDefault(),c.insertDOM||(c.$element.prepend('<div class="'+c.opts.domUp.domClass+'"></div>'),c.insertDOM=!0),c.$domUp=a("."+c.opts.domUp.domClass),g(c.$domUp,0),d<=c.opts.distance?(c._offsetY=d,c.$domUp.html("").append(c.opts.domUp.domRefresh)):d>c.opts.distance&&d<=2*c.opts.distance?(c._offsetY=c.opts.distance+.5*(d-c.opts.distance),c.$domUp.html("").append(c.opts.domUp.domUpdate)):c._offsetY=c.opts.distance+.5*c.opts.distance+.2*(d-2*c.opts.distance),c.$domUp.css({height:c._offsetY})),""!=c.opts.loadDownFn&&c._childrenHeight<=c._meHeight+c._scrollTop&&"up"==c.direction&&(b.preventDefault(),c.insertDOM||(c.$element.append('<div class="'+c.opts.domDown.domClass+'"></div>'),c.insertDOM=!0),c.$domDown=a("."+c.opts.domDown.domClass),g(c.$domDown,0),d<=c.opts.distance?(c._offsetY=d,c.$domDown.html("").append(c.opts.domDown.domRefresh)):d>c.opts.distance&&d<=2*c.opts.distance?(c._offsetY=c.opts.distance+.5*(d-c.opts.distance),c.$domDown.html("").append(c.opts.domDown.domUpdate)):c._offsetY=c.opts.distance+.5*c.opts.distance+.2*(d-2*c.opts.distance),c.$domDown.css({height:c._offsetY}),c.$scrollArea.scrollTop(c._offsetY+c._scrollTop))}function e(b){var c=Math.abs(b._moveY);b.insertDOM&&("down"==b.direction?(b.$domResult=b.$domUp,b.domLoad=b.opts.domUp.domLoad):"up"==b.direction&&(b.$domResult=b.$domDown,b.domLoad=b.opts.domDown.domLoad),g(b.$domResult,300),c>b.opts.distance?(b.$domResult.css({height:b.$domResult.children().height()}),b.$domResult.html("").append(b.domLoad),f(b)):b.$domResult.css({height:"0"}).on("webkitTransitionEnd",function(){b.insertDOM=!1,a(this).remove()}),b._moveY=0)}function f(a){a.loading=!0,""!=a.opts.loadUpFn&&"down"==a.direction?a.opts.loadUpFn(a):""!=a.opts.loadDownFn&&"up"==a.direction&&a.opts.loadDownFn(a)}function g(a,b){a.css({"-webkit-transition":"all "+b+"ms",transition:"all "+b+"ms"})}var h=a(window),i=a(document);a.fn.AIDrag=function(a){return new j(this,a)};var j=function(b,c){var d=this;d.$element=a(b),d.insertDOM=!1,d.loading=!1,d.isLock=!1,d.init(c)};j.prototype.init=function(f){var g=this;if(g.opts=a.extend({},{scrollArea:g.$element,domUp:{domClass:"dropload-up",domRefresh:'<div class="dropload-refresh"><span class="loading"></span>下拉刷新</div>',domUpdate:'<div class="dropload-update"><span class="loading"></span>释放更新</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>',domSuccess:'<div class="dropload-load"><span class="loading-success"></span>加载成功</div>',domError:'<div class="dropload-load"><span class="loading-error"></span>加载失败</div>'},domDown:{domClass:"dropload-down",domRefresh:'<div class="dropload-refresh ui-refresh-up"><span class="loading"></span>上拉加载更多</div>',domUpdate:'<div class="dropload-update ui-refresh-down"><span class="loading"></span>释放加载</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>'},loadMoreText:"",distance:80,loadUpFn:"",loadDownFn:""},f),""!=g.opts.loadMoreText){var i=a("<div>").addClass("ui-btn-more").appendTo(g.$element);i.html(g.opts.loadMoreText),i.bind("click",function(){g.opts.loadDownFn()})}g.opts.scrollArea==window?g.$scrollArea=h:g.$scrollArea=g.opts.scrollArea,g.$element.on("touchstart",function(a){g.loading||g.isLock||(b(a),c(a,g))}),g.$element.on("touchmove",function(a){g.loading||g.isLock||(b(a,g),d(a,g))}),g.$element.on("touchend",function(){g.loading||g.isLock||e(g)})},j.prototype.loadsuccess=function(){var a=this;a.$domResult&&(a.$domResult=a.$domUp,a.$domResult.css({height:"50"})),g(a.$domResult,300),a.$domResult.html("").append(a.opts.domUp.domSuccess)},j.prototype.loaderror=function(){var a=this;a.$domResult&&(a.$domResult=a.$domUp,a.$domResult.css({height:"50"})),g(a.$domResult,300),a.$domResult.html("").append(a.opts.domUp.domError)},j.prototype.resetload=function(){var b=this;b.$domResult&&b.$domResult.css({height:"0"}).on("webkitTransitionEnd",function(){b.loading=!1,b.insertDOM=!1,a(this).remove()})}}(jQuery),function(a){var b={};b.cache={},a.tpl=function(a,c,d){var e=/[^\w\-\.:]/.test(a)?function(a,b){var c,d=[],f=[];for(c in a)d.push(c),f.push(a[c]);return new Function(d,e.code).apply(b||a,f)}:b.cache[a]=b.cache[a]||this.get(document.getElementById(a).innerHTML);return e.code=e.code||"var $parts=[]; $parts.push('"+a.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/(^|%>)[^\t]*/g,function(a){return a.replace(/'/g,"\\'")}).replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("$parts.push('")+"'); return $parts.join('');",c?e(c,d):e},a.adaptObject=function(b,c,d,e,f,g){var h=b;if("string"!=typeof d){var i=a.extend({},c,"object"==typeof d&&d),j=!1;a.isArray(h)&&h.length&&"script"==a(h)[0].nodeName.toLowerCase()?(h=a(a.tpl(h[0].innerHTML,i)).appendTo("body"),j=!0):a.isArray(h)&&h.length&&""==h.selector?(h=a(a.tpl(h[0].outerHTML,i)).appendTo("body"),j=!0):a.isArray(h)||(h=a(a.tpl(e,i)).appendTo("body"),j=!0)}return h.each(function(){var b=a(this),e=b.data("fz."+g);e||b.data("fz."+g,e=new f(this,a.extend({},c,"object"==typeof d&&d),j)),"string"==typeof d&&e[d]()})}}(jQuery),$.fn.extend({blockBtn:function(a){$(this).attr("name",$(this).attr("id")+new Date),$(this).addClass("ui-block-btn"),$(this).on("touchstart",function(){$(this).css({background:"#268BC4"}),$(this).css({color:"#bde2f"}),$(this).css({outline:"none"})}).on("touchend",function(){$(this).css({background:"#44abe5"}),$(this).css({color:"#ffffff"}),$(this).css({outline:"none"})}),$(this).click(function(){a.clickBtnfunc()})}}),$.fn.extend({switchBtn:function(a){$(this).attr("name",$(this).attr("id")+new Date),$(this).addClass("ui-swicth-checkbox"),$(this).click(function(){$(this).prop("checked")?a.selectfunc&&a.selectfunc():a.unselectfunc&&a.unselectfunc()}),$(this).after('<label for="'+$(this).attr("id")+'"></label>')},curStatus:function(){return $(this).is(":checked")?"on":"off"}}),$.fn.extend({counterBtn:function(a){var b=10,c=0;if(a.maxNum&&(b=a.maxNum),a.minNum&&(c=a.minNum),a.minNum>a.maxNum){var d;d=a.minNum,a.minNum=a.maxNum,a.maxNum=d,b=a.maxNum,c=a.minNum}$(this).attr("name",$(this).attr("id")+new Date),$(this).addClass("ui-btn-group"),$(this).append('<span class="ui-btn-reduce disable"></span>'),$(this).append('<input type="tel" class="ui-btn-group-input" value="'+c+'" min="1" onblur="if(this.value < 1){this.value = 1;}"  />'),$(this).append('<span id="js-add" class="ui-btn-add"></span>');var e=$(this).find("span:eq(0)"),f=$(this).find("span:eq(1)"),g=$(this).find("input"),h=b,i=c,j=function(){var a=parseInt(g.val());return h+1>=a&&f.removeClass("disable"),a>i&&(g.val(a-1),e.removeClass("disable")),i+1>=a?(e.addClass("disable"),!1):void(a>h&&(g.val(""),g.val(h)))},k=function(){var a=g.val(),b=parseInt(a);return b>=h-1?(f.addClass("disable"),e.removeClass("disable"),g.val(""),g.val(h),!1):(h>=b&&f.removeClass("disable"),g.val(parseInt(g.val())+1),void e.removeClass("disable"))},l=function(){var a=parseInt(g.val());h>a?f.removeClass("disable"):a>=i&&e.removeClass("disable"),a>=h&&(f.addClass("disable"),g.val(""),g.val(h)),g.keyup(function(){$(this).val($(this).val().replace(/\D|^0/g,""))}).bind("paste",function(){$(this).val($(this).val().replace(/\D|^0/g,""))}).css("ime-mode","disabled")};return $(this).find("span:eq(0)").bind("click",j),$(this).find("span:eq(1)").bind("click",k),$(this).find("input").bind("click",l),$(this)},curNum:function(){return $(this).find("input").val()}}),function(a){a.fn.AIGrid=function(a){return new c(this,a)};var b=1,c=function(b,c){var d=this;d.el=a(b),c.sel=d.el,d.cloneMarkup="",d.init(c)};c.prototype={curPage:1,tableGridID:"",init:function(a){CreateTable(a)},gridData:function(b){var c={rowIdx:1,colName:void 0,value:void 0},d=a.extend(c,b);return d.colName?d.value?void a("#"+this.tableGridID+" .ui-grid-table-tbody   tr > td[name='"+d.colName+"']").eq(d.rowIdx).text(d.value):a("#"+this.tableGridID+" .ui-grid-table-tbody   tr > td[name='"+d.colName+"']").eq(d.rowIdx):a("#"+this.tableGridID+" .ui-grid-table-tbody   tr").eq(d.rowIdx)}},CreateTable=function(d){var e="gridTable"+b++;c.prototype.tableGridID=e;var f,g={heads:[],loadFunc:function(){}},h=a.extend(g,d),i="",j="";a.each(h.heads,function(a,b){i+='<th class="ui-grid-table-thead-tr-th fn-text-nowrap"'+(b.stype?' stype="'+b.stype+'"':"")+">"+b.text+"</th>",j+='<td name="'+b.name+'" class="ui-grid-table-tbody-tr-td"></td>'}),this.cloneMarkup='			    <tr id="cloneTr" class="ui-grid-table-tbody-tr">                               '+j+"			     </tr>                                          ",f=['<table id="'+e+'" class="ui-grid-table">  ','			<thead class="ui-grid-table-thead">                                             ','				<tr  class="ui-grid-table-thead-tr">                                            ',i,"				</tr>                                           ","			</thead>                                            ",'			<tbody class="ui-grid-table-tbody">                                             ',this.cloneMarkup,"			 </tbody>                                           ","</table>  		                                                "].join(""),a(f).appendTo(d.sel),GenerateTable(h.loadFunc(c.prototype.curPage));d.sel.drag({loadUpFn:function(b){setTimeout(function(){a(".ui-grid-table-tbody-tr").remove(),c.prototype.curPage=1,a(this.cloneMarkup).appendTo(d.sel.find("tbody")),GenerateTable(h.loadFunc(c.prototype.curPage)),b.resetload()},1e3)},loadDownFn:function(b){setTimeout(function(){a(this.cloneMarkup).appendTo(d.sel.find("tbody")),GenerateTable(h.loadFunc(++c.prototype.curPage)),b.resetload()},1e3)}});a("#cloneTr").remove(),"function"==typeof h.action&&a("#"+c.prototype.tableGridID+" .ui-grid-table-tbody   tr").on("click",h.action),gridSort(e+"")},GenerateTable=function(b){var c={field:[]},d=a.extend(c,b),e=a("#cloneTr");a.each(d.field,function(b,c){var d=e.clone();d.attr("id","generatedTr"),d.children("td").each(function(b){a(this).html(c[a(this).attr("name")])}),d.insertAfter(e)}),a("#cloneTr").remove()};var d=(a(window),function(a){this.AIGrid=document.getElementById(a),this.Gbody=this.AIGrid.tBodies[0],this.Ghead=this.AIGrid.tHead});d._StringByConvert=function(a,b){var c="";if(a.firstChild&&(c=a.firstChild.nodeValue),!b)return c.toString();switch(b.toLowerCase()){case"int":return parseInt(c);case"float":return parseFloat(c);case"date":return new Date(Date.parse(c));default:return c.toString()}},d.prototype._Sequence=function(a,b){return function(){var c=d._StringByConvert(arguments[0].cells[a],b),e=d._StringByConvert(arguments[1].cells[a],b);return console.log(c),console.log(e),e>c?-1:c>e?1:0}},d.prototype.BindClickHeadSort=function(){for(var a=this.Ghead.rows[0].cells,b=this.Gbody,c=b.rows,d=this._Sequence,e=0,f=a.length;f>e;e++)!function(e){a[e].onclick=function(){for(var a=[],f=this.getAttribute("stype"),g=b.getAttribute("orderby"),h=0,i=c.length;i>h;h++)a[h]=c[h];g?(a.reverse(),b.removeAttribute("orderby")):(a.sort(d(e,f)),b.setAttribute("orderby","asc"));for(var j=document.createDocumentFragment(),k=0,l=a.length;l>k;k++)j.appendChild(a[k]);b.appendChild(j)}}(e)},gridSort=function(a){new d(a).BindClickHeadSort()}}(jQuery),function(a){a.fn.AIList=function(a){return new d(this,a)};var b='<ul class="ui-list"><% for (var i = 0; i < lists.length; i++) { %><% var post = lists[i]; %><% if (post.type == "list" || post.type == "1") { %><li class="ui-list-item">	<a class="icon-navigate-right" href="<%=post.link%>" data-id="<%=post.id%>"><%=post.title%></a></li><% } else if(post.type == "iconList" || post.type == "2"){ %><li class="ui-list-item ui-media">    <a class="icon-navigate-right" href="<%=post.link%>" data-id="<%=post.id%>">        <span class="ui-media-object fn-left ui-icon <%=post.icon%>"></span>        <div class="ui-media-body"><%=post.title%></div>    </a></li><% } else if(post.type == "mediaList" || post.type == "3"){ %><li class="ui-list-item ui-media">    <a class="icon-navigate-right" href="<%=post.link%>" data-id="<%=post.id%>">        <img class="ui-media-object fn-left" src="<%=post.pic%>">                        <div class="ui-media-body">            <h4><%=post.title%></h4>            <p><%=post.desc%></p>        </div>    </a></li><% } %><% } %></ul>',c={data:"",isFromTpl:"",isInit:!1},d=function(b,d){this.element=a(b),this.option=a.extend(c,d),this.option.isInit&&this.init()};d.prototype={init:function(){var a=this.option,c=""!=a.isFromTpl?a.isFromTpl:b;Rose.ajax.loadTemp(this.element,c,a.data)},addRow:function(a){this.option.data.lists.push(a),this.init()},removeRow:function(a){this.option.data.lists.splice(a,1),this.init()},getDataRow:function(a){return alert(JSON.stringify(this.option.data.lists[a])),this.option.data.lists[a]}}}(jQuery),function(a){var b={};b.cache={},a.tpl=function(a,c,d){var e=/[^\w\-\.:]/.test(a)?function(a,b){var c,d=[],f=[];for(c in a)d.push(c),f.push(a[c]);return new Function(d,e.code).apply(b||a,f)}:b.cache[a]=b.cache[a]||this.get(document.getElementById(a).innerHTML);return e.code=e.code||"var $parts=[]; $parts.push('"+a.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/(^|%>)[^\t]*/g,function(a){return a.replace(/'/g,"\\'")}).replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("$parts.push('")+"'); return $parts.join('');",c?e(c,d):e}}(jQuery),function(a){a.fn.AIOperatingload=function(a){return new b(this,a)};var b=function(b,c){var d=this;d.el=a(b),d.init(c)};b.prototype={init:function(b){var c=this;c.opts=a.extend({tipText:"字测试测试文字测",URL:"",param:"",time:5e3,callback:function(a,b){}},b);var d=c.creatDiv();d.hide();var e=d.width()+127,f=d.height();a(window).width(),a(window).height();d.css("margin-left",-e/2+"px"),d.css("margin-top",-f/2+"px"),c.el.bind("click",function(){c.getJson(c.opts.URL,c.opts.param,c.opts.callback)})},creatDiv:function(){for(var b=a("<div>").addClass("ui-load-action").appendTo(a("body")),c=a("<div>").addClass("ui-load-animate").appendTo(b),d=a("<div>").addClass("ui-spinner").appendTo(c),e=1;13>e;e++)a("<div>").addClass("bar"+e).appendTo(d);a("<p>").addClass("ui-load-text").appendTo(b).html(this.opts.tipText);return b},start:function(){var b=a(".ui-load-action");b.length<=0&&this.init(),b.show(),setTimeout(function(){var c=a("<div>").addClass("ui-load-close").appendTo(b);c.bind("click",function(){b.fadeOut(),a(this).remove()})},this.opts.time)},done:function(){var b=a(".ui-load-action");b.fadeOut(),a(".ui-load-close").remove()},getJson:function(b,c,d){var e=this;e.start(),a.ajax({url:b,type:"GET",data:"_="+(new Date).getTime()+(null==c||""==c?"":"&"+c),cache:!1,dataType:"json",beforeSend:function(a){a.overrideMimeType("text/plain; charset=utf-8")},success:function(a){e.done(),d("success",a)},error:function(a){e.done(),d("error",{flag:!1,errmsg:"调用服务失败！"})}})}}}(jQuery),function(){var a=function(a){if(a.fields){var b=navigator.userAgent,c=(navigator.appVersion,{rowNum:5,headHeight:45,rowHeight:45,fontSize:18});c=$.extend(c,a.options),c.rowNum%2==0&&(c.rowNum=c.rowNum-1),c.contentHeight=c.rowHeight*c.rowNum,c.pickerHeight=c.headHeight+c.contentHeight,this.setting=c,a.firstLoad="1",this.genPickerCell=function(a,b){a.find(".ui-picker-cell").remove();for(var c=Math.floor(this.setting.rowNum/2),d=1;c>=d;d++)a.append('<div class="ui-picker-cell" style="height:'+this.setting.rowHeight+"px;line-height:"+this.setting.rowHeight+'px;"></div>');for(var e=0;e<b.length;e++)a.append('<div class="ui-picker-cell" style="height:'+this.setting.rowHeight+"px;line-height:"+this.setting.rowHeight+'px;" data-value="'+b[e].value+'" data-index="'+(e+1)+'">'+b[e].text+"</div>");for(var d=1;c>=d;d++)a.append('<div class="ui-picker-cell" style="height:'+this.setting.rowHeight+"px;line-height:"+this.setting.rowHeight+'px;"></div>')},this.topValue=[],this.interval=[],this.scrollFunc=function(a,b){var c=this;if(!b||b!=a.scrollTop){var d=$(a).index(),e=c.setting.rowHeight;null==c.interval[d]&&(c.interval[d]=setInterval(function(){if(a.scrollTop==c.topValue[d]){clearInterval(c.interval[d]),c.interval[d]=null;var b=a.scrollTop%e,f=a.scrollTop;b>e/2?f+=e-b:f-=b;var g=parseInt(f/e+1);c.setSelectedIndex($(a),g)}},30)),c.topValue[d]=a.scrollTop}},this.scroll=function(a,b,c,d,e,f,g){var h=this,i=(h.setting.rowHeight,d*f);a.scrollTop=b+i,e>d?(d++,setTimeout(function(){h.scroll(a,b,c,d,e,f)},10)):(a.scrollTop=c,g&&g(),$(a).bind("scroll",function(){h.scrollFunc(this,c)}))},this.scrollTop=function(a,b,c,d,e){var f=this,g=d/10,h=(c-b)/g;setTimeout(function(){f.scroll(a,b,c,0,g,h,e)},10)},this.setSelectedIndex=function(b,c){var e=this;b.unbind("scroll"),c=parseInt(c);var f=b[0],g=e.setting.rowHeight;if(e.scrollTop(f,f.scrollTop,g*(c-1),100),b.find(".ui-picker-cell[data-index='"+c+"']").addClass("ui-picker-cell-current").siblings().removeClass("ui-picker-cell-current"),b.find(".ui-picker-cell[data-index='"+c+"']").siblings().css("font-size",this.setting.fontSize+"px"),b.find(".ui-picker-cell[data-index='"+c+"']").css("font-size",this.setting.fontSize+4+"px"),b.index()<b.siblings().length){var h=b.index()+1;"0"==a.firstLoad&&(h=b.siblings().length);for(var i=b.index()+1;h>=i;i++)if("function"==typeof a.fields[i].content){var j=$("#"+d).find(".ui-picker-item:eq("+i+")"),k={};$("#"+d).find(".ui-picker-item").each(function(){var a=$(this).attr("pickerid"),b=$(this).find(".ui-picker-cell-current").data("value");k[a]=b});var k=a.fields[i].content(k),l=1;if("0"==a.firstLoad&&!a.fields[i].reload){var m=j.find(".ui-picker-cell-current");0!=m.length&&(l=m.data("index")),k.length<l&&(l=k.length)}e.genPickerCell(j,k);var n=1;"0"==a.firstLoad?a.fields[i].reload?e.setSelectedIndex(j,n):e.setSelectedIndex(j,l):(a.current&&a.current[j.attr("pickerid")]&&(n=j.find(".ui-picker-cell[data-value='"+a.current[j.attr("pickerid")]+"']").data("index")),e.setSelectedIndex(j,n))}}},this.getSelectedIndex=function(a){return a.find(".ui-picker-cell-current").data("index")},this.initEvent=function(){var a=this;$("#"+this.id).find(".ui-picker-item").each(function(){a.topValue.push(0),a.interval.push(null)}),$("#"+this.id).find(".ui-picker-item .ui-picker-cell").on("click",function(b){var c=$(this).data("index");a.setSelectedIndex($(this).parent(),c)})};var d="picker"+(new Date).valueOf();if(this.id=d,$('<div class="ui-picker" id="'+d+'"><div class="ui-picker-header" style="height:'+this.setting.headHeight+'px"></div><div class="ui-picker-content" style="height:'+this.setting.contentHeight+'px"></div></div>').appendTo("body"),a.buttons)for(var e=0;e<a.buttons.length;e++){$("#"+d).find(".ui-picker-header").append("<div class='ui-picker-button' style='line-height:"+this.setting.headHeight+"px'>"+a.buttons[e].text+"</div>");var f=this;$("#"+d).find(".ui-picker-button").click(function(){if(a.buttons[$(this).index()].action){var b={};$("#"+d).find(".ui-picker-item").each(function(){var a=$(this).attr("pickerid"),c=$(this).find(".ui-picker-cell-current").data("value"),d=$(this).find(".ui-picker-cell-current").text();b[a]={text:d,value:c}}),a.buttons[$(this).index()].action(b)}$("#"+d).css("-webkit-transform","translateY("+f.setting.pickerHeight+"px)"),$(".ui-picker-shadow").remove()})}for(var e=0;e<a.fields.length;e++)if($('<div pickerid="'+a.fields[e].id+'" class="ui-picker-item" style="height:'+this.setting.contentHeight+'px"></div>').appendTo($("#"+d).find(".ui-picker-content")),a.fields[e].content instanceof Array&&0!=e){var g=$("#"+d).find(".ui-picker-item:last");this.genPickerCell(g,a.fields[e].content)}var g=$("#"+d).find(".ui-picker-item:first");a.fields[0].content instanceof Array?this.genPickerCell(g,a.fields[0].content):this.genPickerCell(g,a.fields[0].content());for(var e=0;e<a.fields.length;e++)if(!(a.fields[e].content instanceof Function&&0!=e)){var g=$("#"+d).find(".ui-picker-item:eq("+e+")"),h=1;a.current&&a.current[g.attr("pickerid")]&&(h=g.find(".ui-picker-cell[data-value='"+a.current[g.attr("pickerid")]+"']").data("index")),this.setSelectedIndex(g,h)}a.firstLoad="0";var i=!!b.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),j=$("#"+d).width(),k=Math.floor(j/a.fields.length);return $("#"+d).find(".ui-picker-item").width(k),i||$("#"+d).find(".ui-picker-item").each(function(a){$(this).css("position","relative"),$(this).css("left",5*-a+"px")}),i?($("#"+d).find(".ui-picker-item").append($('<div class="ui-picker-rule" style="height:'+this.setting.rowHeight+'px"></div>')),$("#"+d).find(".ui-picker-item .ui-picker-rule").css("width",Math.floor(100/a.fields.length)+"%")):$("#"+d).append($('<div class="ui-picker-rule android" style="height:'+this.setting.rowHeight+'px"></div>')),$("#"+d).find(".ui-picker-button,.ui-picker-cell").css("font-size",this.setting.fontSize+"px"),$("#"+d).find(".ui-picker-rule").css("font-size",this.setting.fontSize+4+"px"),this.initEvent(),this}};a.prototype.get=function(){var a={};return $("#"+this.id).find(".ui-picker-item").each(function(){var b=$(this).attr("pickerid"),c=$(this).find(".ui-picker-cell-current").data("value"),d=$(this).find(".ui-picker-cell-current").text();a[b]={text:d,value:c}}),a},a.prototype.set=function(a){for(var b in a){var c=$("#"+this.id).find(".ui-picker-item[pickerid='"+b+"']"),d=c.find(".ui-picker-cell[data-value='"+a[b]+"']").data("index");this.setSelectedIndex(c,d)}$("#"+this.id).css("-webkit-transform","translateY(0px)"),$("<div class='ui-picker-shadow' style='opacity:1'></div>").appendTo("body")},$.fn.extend({AIPicker:function(b){var c=new a(b);return c}}),$.extend({genYearfield:function(a,b){for(var c={id:"year",content:[],reload:!1},d=a;b>=d;d++)c.content.push({value:d,text:d});return c},genMonthfield:function(){for(var a={id:"month",content:[],reload:!1},b=1;12>=b;b++)a.content.push({value:b,text:b});return a},genDayfield:function(){var a={id:"day",reload:!1};return a.content=function(a){var b=a.year%4==0&&(a.year%100!=0||a.year%400==0),c=31;(4==a.month||6==a.month||9==a.month||11==a.month)&&(c=30),2==a.month&&b&&(c=29),2!=a.month||b||(c=28);for(var d=[],e=1;c>=e;e++)d.push({value:e,text:e});return d},a},genHourfield:function(){for(var a={id:"hour",content:[],reload:!1},b=1;60>b;b++)a.content.push({value:b,text:b});return a},genMinutefield:function(){for(var a={id:"minute",content:[],reload:!1},b=1;60>b;b++)a.content.push({value:b,text:b});return a}}),$.fn.extend({AIDtPicker:function(a){var b={},c=[];"date"==a.type.toLowerCase()&&(c.push($.genYearfield(a.beginYear,a.endYear)),c.push($.genMonthfield()),c.push($.genDayfield())),"time"==a.type.toLowerCase()&&(c.push($.genHourfield()),c.push($.genMinutefield())),"month"==a.type.toLowerCase()&&(c.push($.genYearfield(a.beginYear,a.endYear)),c.push($.genMonthfield())),"datetime"==a.type.toLowerCase()&&(c.push($.genYearfield(a.beginYear,a.endYear)),c.push($.genMonthfield()),c.push($.genDayfield()),c.push($.genHourfield()),c.push($.genMinutefield())),b.fields=c,b=$.extend(b,a);var d=$(this).AIPicker(b);return d}})}(),function(a){a.fn.AIProgress=function(){return new b(this)};var b=function(b){this.el=a(b),this.init()};b.prototype={init:function(){this.creatDiv()},creatDiv:function(){var b=a("<div>").addClass("ui-load-top").appendTo(this.el);a("<div>").addClass("ui-load-line").appendTo(b);b.hide()},start:function(){var b=a(".ui-load-top"),c=0,d=parseInt(a(".ui-load-top").width()),e=a(".ui-load-line"),f=c/d*100;b.show(),setInterval(function(){30>f&&(f+=1.3,e.css("width",f+"%"))},20),setInterval(function(){var b=(a(".ui-load-top"),parseInt(a(".ui-load-line").width())),c=parseInt(a(".ui-load-top").width()),d=a(".ui-load-line"),e=b/c*100;85>e&&(e+=.3,d.css("width",e+"%"))},50)},done:function(){var b=a(".ui-load-top"),c=parseInt(a(".ui-load-line").width()),d=parseInt(a(".ui-load-top").width()),e=a(".ui-load-line"),f=c/d*100;for(f=Math.floor(f);101>f;f++)if(e.css("width",f+"%"),f>=100)return void setTimeout(function(){b.hide()},700)}}}(jQuery),function(a){var b=0;a.fn.AISelect=function(a){return new c(this,a)};var c=function(b,c){var d=this;d.el=a(b),c.sel=d.el,d.selectType,d.canDisabled=!1,d.flex=c.flex,d.init(c)};c.prototype={selfID:"",onChange:function(){},textField:"text",valueField:"value",init:function(c){var d="",e="",f=this;f.opts=a.extend({},{textField:"text",valueField:"value",onChange:function(){}},c),this.textField=f.opts.textField,this.valueField=f.opts.valueField,this.onChange=f.opts.onChange,c&&c.type&&"radio"!=c.type?"checkbox"==c.type&&(this.selectType="checkbox","ui-select-checkbox-blue-tradition"==c.theme?(this.canDisabled=!0,e='class="'+c.theme+'-label"',d='<ul class="'+c.theme+'-ul">',a.each(c.content,function(a,g){d+=['<li class="'+c.theme+"-li"+(c.flex?" ui-select-checkbox-tradition-throughout-flex":"")+'">','<input id="checkbox_'+ ++b+'" type="checkbox" class="'+c.theme+'" name="'+c.name+'" value="'+g[f.valueField]+'" text="'+g[f.textField]+'">','<label for="checkbox_'+b+'" '+e+'" data-attr="'+g[f.textField]+'" >'+g[f.textField]+"</label>","</li>"].join("")}),d+="</ul>"):a.each(c.content,function(a,e){d+=['<input id="checkbox_'+ ++b+'" type="checkbox" class="'+c.theme+(c.flex?"-flex":"")+'" name="'+c.name+'" value="'+e[f.valueField]+'" text="'+e[f.textField]+'">','<label for="checkbox_'+b+'" data-attr="'+e[f.textField]+(!c.flex&&c.width?'" style="width: '+c.width+';"':"")+'">'+(c.flex?e[f.textField]:"")+"</label>"].join("")}),a(d).appendTo(c.sel)):(this.selectType="radio",this.canDisabled=!0,"ui-select-radio-blue-tradition"==c.theme||"ui-select-radio-blue-throughout"==c.theme?(e='class="'+c.theme+'-label"',d='<ul class="'+c.theme+'-ul">',a.each(c.content,function(a,g){d+=['<li class="'+c.theme+"-li"+(c.flex?" ui-select-radio-tradition-throughout-flex":"")+'">','<input id="radio_'+ ++b+'" type="radio" class="'+c.theme+'" name="'+c.name+'" value="'+g[f.valueField]+'" text="'+g[f.textField]+'">','<label for="radio_'+b+'" '+e+'" data-attr="'+g[f.textField]+'" >'+g[f.textField]+"</label>","</li>"].join("")}),d+="</ul>"):a.each(c.content,function(a,g){d+=['<input id="radio_'+ ++b+'" type="radio" class="'+c.theme+(c.flex?"-flex":"")+'" name="'+c.name+'" value="'+g[f.valueField]+'" text="'+g[f.textField]+'">','<label for="radio_'+b+'" '+e+'" data-attr="'+g[f.textField]+'">'+(c.flex?g[f.textField]:"")+"</label>"].join("")}),a(d).appendTo(c.sel));var g=this;a(c.sel).find(":"+c.type).change(function(){g.onChange(g,this)})},getValue:function(b){if(b)return this.el.find("input").eq(b.idx).val();if("radio"==this.selectType)return this.el.find("input:checked").val();if("checkbox"==this.selectType){var c=[];return this.el.find("input:checked").each(function(){c.push(a(this).val())}),c}},getText:function(b){if(b)return this.el.find("input").eq(b.idx).attr("text");if("radio"==this.selectType)return this.el.find("input:checked").attr("text");if("checkbox"==this.selectType){var c=[];return this.el.find("input:checked").each(function(){c.push(a(this).attr("text"))}),c}},setValue:function(a){this.el.find("input").eq(a.idx).val(a.value)},setText:function(a){this.el.find("input").eq(a.idx).attr("text",a.text),this.el.find("label").eq(a.idx).attr("data-attr",a.text),this.el.find("label").eq(a.idx).html().length>0&&this.el.find("label").eq(a.idx).html(a.text)},setDisabled:function(a){this.canDisabled&&this.el.find("input").eq(a.idx).attr("disabled","disabled")},mustSelected:function(a){var b=this.el.find("input").eq(a.idx).attr("checked","checked").nextAll("label").eq(0);b.clone().css("display","none").insertAfter(b),b.removeAttr("for").bind("touchstart",function(){"function"==typeof a.functionname&&a.functionname()})},setEnable:function(a){this.canDisabled&&this.el.find("input").eq(a.idx).removeAttr("disabled")},setChoosen:function(a){this.el.find("input").get(a.idx).checked=!0},setNoChoosen:function(a){this.el.find("input").get(a.idx).checked=!1}}}(jQuery),$.fn.extend({AITab:function(a){if($this=$(this),a.type||(a.type="top"),a.item||(a.item=1),a.field){this.outerDivClass="aim_"+a.type+"_tab_group_outer",this.groupDivClass="aim_"+a.type+"_tab_group";var b=!1;$(this).addClass(this.outerDivClass),$("<div class="+this.groupDivClass+"></div>").appendTo($(this));for(var c=0;c<a.field.length;c++)$('<div class="tab_inner" data-rel_element='+a.field[c].rel+'><div class="tab_content">'+a.field[c].name+"</div></div>").appendTo($(this).find("."+this.groupDivClass)),"bottom"==a.type&&a.field[c].icon&&2==a.field[c].icon.length&&(b=!0,$(this).find(".tab_inner").css("width",100/a.field.length+"%"),$(this).find(".tab_inner .tab_content").eq(c).addClass("icon"),$(this).find(".tab_inner .tab_content").eq(c).css("background","url("+a.field[c].icon[0]+") 50% 10px / 30px 30px no-repeat"));"top"==a.type&&a.field.length<=4&&($(this).find(".tab_inner").addClass("fixed"),$(this).css("width","100%"),$(this).find(".aim_top_tab_group").css("width","100%"),$(this).find(".tab_inner").css("width",100/a.field.length+"%")),$(this).find(".tab_inner:nth-child("+a.item+")").addClass("current"),b&&$(this).find(".tab_content:first").css("background","url("+a.field[0].icon[1]+") 50% 10px / 30px 30px no-repeat"),
$(this).find(".tab_inner").click(function(){if($(this).addClass("current").siblings().removeClass("current"),b){for(var c=0;c<a.field.length;c++)$this.find(".tab_inner .tab_content").eq(c).css("background","url("+a.field[c].icon[0]+") 50% 10px / 30px 30px no-repeat");var d=$(this).index();$(this).find(".tab_content").css("background","url("+a.field[d].icon[1]+") 50% 10px / 30px 30px no-repeat")}a.after&&a.after($(this).data("rel_element"))})}}}),function(a){a.fn.AITips=function(a){return new b(this,a)};var b=function(b,c){var d=this;d.el=a(b),c.sel=d.el,d.init(c)};IDs=1,b.prototype={selfID:"",init:function(b){if(a("#confirmOverlay").length)return!1;var c,d="",e="";b&&b.type&&"confirm"!=b.type?"alert"==b.type?(a.each(b.buttons,function(a,c){d+='<a href="#" class="ui-tips-alert-button ui-tips-button-'+(c.color||b.theme)+'">'+(1==c.bold?"<b>":"")+c.text+(1==c.bold?"</b>":"")+"<span></span></a>",c.action||(c.action=function(){})}),e+=b.close?'<div class="ui-tips-confirm-title">'+(b.title||"")+'<span class="ui-tips-close"></span></div>':'<div class="ui-tips-confirm-title">'+(b.title||"")+"</div>",c=b.icon?['<div id="confirmOverlay" class="ui-tips-alert-overlay ui-flex ui-flex-hc ui-flex-vc">','<div id="confirmBox" class="ui-tips-alert-box">',e,'<img src="'+b.icon+'" style="width: 15px;height: 15px; float:left; margin-top: 17px; margin-left: 22px;"/>',"<p>",b.message,"</p>","<section>",b.desc,"</section>",'<div id="confirmButtons" class="ui-tips-alert-buttons">',d,"</div></div></div>"].join(""):['<div id="confirmOverlay" class="ui-tips-alert-overlay ui-flex ui-flex-hc ui-flex-vc">','<div id="confirmBox" class="ui-tips-alert-box-no-icon">',e,"<p>",b.message,"</p>","<section>",b.desc,"</section>",'<div id="confirmButtons" class="ui-tips-alert-buttons">',d,"</div></div></div>"].join("")):"toast"==b.type?c=b.icon?['<div  class="ui-tips-toast-overlay ui-flex ui-flex-hc ui-flex-vc">','<div id="toastBox" class="ui-tips-toast-box">','<img src="'+b.icon+'" style="width: 15px;height: 15px; float:left; margin-top: 20px; margin-left: 20px;"/>',"<p>",b.message,"</p>","</div></div>"].join(""):['<div  class="ui-tips-toast-overlay ui-flex ui-flex-hc ui-flex-vc">','<div id="toastBox" class="ui-tips-toast-box-no-icon">',"<p>",b.message,"</p>","</div></div>"].join(""):"warning"==b.type?(this.selfID=IDs,c=['<div id="warningBox'+IDs++ +'" class="'+b.theme+' ui-tips-warning-box">',"<p>",b.message,"</p>","</div>"].join("")):"guide"==b.type?c=['<div class="ui-tips-guide-box">','<div class="ui-tips-guide-content">','<img src="img/ui-tips-tip-4.png" class="ui-tips-guide-icon">',b.message,'<img src="img/ui-tips-guild-x.png" class="ui-tips-guide-close">','<div class="ui-tips-guide-arrow-location">','<div class="ui-tips-guide-arrow-outer-'+b.dir+'">','<div class="ui-tips-guide-arrow-inner-'+b.dir+'"></div>',"</div></div>","</div>","</div>"].join(""):"dot"==b.type?(this.selfID=IDs,c=['<img id="dotImg'+IDs++ +'" class="ui-tips-dot" src="img/ui-tips-dot.png" style="margin-right: 15px;    width: 8px;">'].join("")):"remains"==b.type&&(c=['<div class="ui-tips-remains" >','<div class="ui-tips-remains-box" >',"</div>","</div>"].join("")):(a.each(b.buttons,function(a,c){d+='<a href="#" class="ui-tips-confirm-button ui-tips-button-'+(c.color||b.theme)+'">'+(1==c.bold?"<b>":"")+c.text+(1==c.bold?"</b>":"")+"<span></span></a>",c.action||(c.action=function(){})}),e+=b.close?'<div class="ui-tips-confirm-title">'+(b.title||"")+'<span class="ui-tips-close"></span></div>':'<div class="ui-tips-confirm-title">'+(b.title||"")+"</div>",c=b.icon?['<div id="confirmOverlay" class="ui-tips-confirm-overlay ui-flex ui-flex-hc ui-flex-vc">','<div id="confirmBox" class="ui-tips-confirm-box">',e,'<img src="'+b.icon+'" style="width: 15px;height: 15px; float:left; margin-top: 17px; margin-left: 16px; margin-right:10px"/>',"<p>",b.message,"</p>","<section>",b.desc,"</section>",'<div id="confirmButtons" class="ui-tips-confirm-buttons">',d,"</div></div></div>"].join(""):['<div id="confirmOverlay" class="ui-tips-confirm-overlay ui-flex ui-flex-hc ui-flex-vc">','<div id="confirmBox" class="ui-tips-confirm-box-no-icon">',e,"<p>",b.message,"</p>","<section>",b.desc,"</section>",'<div id="confirmButtons" class="ui-tips-confirm-buttons">',d,"</div></div></div>"].join(""));var f,g=0,h=a(document).scrollTop();b&&b.type&&"confirm"!=b.type?"alert"==b.type?(a(c).prependTo("body"),a("html").css("overflow","hidden"),a("body").css("overflow","hidden"),a("body").css("position","fixed"),a("body").css("width","100%"),a("body").css("top",-h),""==a(c).find("section").text()&&(a(".ui-tips-alert-box-no-icon").find("p").css("text-align","center"),a(".ui-tips-alert-box").find("p").css("text-align","center"),a(".ui-tips-alert-box-no-icon").find("section").css("padding-top","0"),a(".ui-tips-alert-box").find("section").css("padding-top","0")),""==a(".ui-tips-confirm-title").text()&&a(".ui-tips-confirm-title").hide(),f=a(".ui-tips-alert-buttons"),a.each(b.buttons,function(c,d){f.eq(g++).click(function(){return 1==!b.preventDefaultClose&&hideInmidiately(".ui-tips-alert-overlay"),a("body").css("overflow","auto"),a("html").css("overflow","auto"),a("body").css("position","static"),document.body.scrollTop=h,d.action(),!1})})):"toast"==b.type?(a(c).prependTo("body"),setTimeout(function(){hide(".ui-tips-toast-overlay")},b.timeout)):"warning"==b.type?a(c).hide().prependTo("body").fadeIn():"guide"==b.type?(a(c).appendTo(b.sel),"up"==b.dir||"down"==b.dir?(a(".ui-tips-guide-arrow-outer-up").css("left","-"+(a(".ui-tips-guide-content").width()/2+10)+"px"),a(".ui-tips-guide-arrow-outer-down").css("left","-"+(a(".ui-tips-guide-content").width()/2+10)+"px")):a(".ui-tips-guide-arrow-outer-left").css("left","-"+(a(".ui-tips-guide-content").width()+26)+"px"),a(".ui-tips-guide-close").click(function(){a(".ui-tips-guide-box").remove()})):"dot"==b.type?0==b.sel.find(a(" .ui-tips-dot ")).length&&(a(c).appendTo(b.sel),a(b.sel).addClass("ui-flex ui-flex-hc ui-flex-vc")):"remains"==b.type&&(b.sel.find(a(".ui-tips-remains ")).remove(),a(c).appendTo(b.sel)):(a(c).prependTo("body"),a("html").css("overflow","hidden"),a("body").css("overflow","hidden"),a("body").css("position","fixed"),a("body").css("width","100%"),a("body").css("top",-h),""==a(c).find("section").text()&&(a(".ui-tips-confirm-box-no-icon").find("p").css("text-align","center"),a(".ui-tips-confirm-box").find("p").css("text-align","center"),a(".ui-tips-confirm-box-no-icon").find("section").css("padding-top","0"),a(".ui-tips-confirm-box").find("section").css("padding-top","0")),""==a(".ui-tips-confirm-title").text()&&a(".ui-tips-confirm-title").hide(),f=a(".ui-tips-confirm-button"),a.each(b.buttons,function(c,d){f.eq(g++).click(function(){return 1==!b.preventDefaultClose&&hideInmidiately(".ui-tips-confirm-overlay"),a("body").css("overflow","auto"),a("html").css("overflow","auto"),a("body").css("position","static"),document.body.scrollTop=h,d.action(),!1})})),a(".ui-tips-close").click(function(){return 1==!b.preventDefaultClose&&hideInmidiately(".ui-tips-confirm-overlay"),a("body").css("overflow","auto"),a("html").css("overflow","auto"),a("body").css("position","static"),document.body.scrollTop=h,obj.action(),!1})},hideWarning:function(){a("#warningBox"+this.selfID).fadeOut(function(){a(this).remove()})},hideDot:function(){a("#dotImg"+this.selfID).fadeOut(function(){a(this).remove()})},remainsNum:function(b){isPositiveNum(b)&&(1>b?(this.el.find(a(".ui-tips-remains ")).css("background-image","url(../mobile/img/ui-tips-remain-0.png)"),b=""):10>b?this.el.find(a(".ui-tips-remains ")).css("background-image","url(../mobile/img/ui-tips-remain-9.png)"):100>b?this.el.find(a(".ui-tips-remains ")).css("background-image","url(../mobile/img/ui-tips-remain-99.png)"):(this.el.find(a(".ui-tips-remains ")).css("background-image","url(../mobile/img/ui-tips-remain-999.png)"),b="99+"),a(".ui-tips-remains-box").text(b))},manualClose:function(){a("#confirmOverlay").remove()}},hide=function(b){a(b).fadeOut(function(){a(this).remove()})},hideInmidiately=function(b){a(b).remove()},isPositiveNum=function(a){var b=/\d{1,}/;return b.test(a)}}(jQuery);var tmp_fun=null,AILoadControl=function(a){var b=this;b.content=a.content||"加载中...",b.time=a.time||6e3,b.flag=a.flag||!1,b.callback=a.callback||function(){},b.model=a.model||!1,b.init()};AILoadControl.prototype={init:function(){for(var a=this,b=$("<div>").addClass("ui-load-action").appendTo($("body")),c=$("<div>").addClass("ui-load-animate").appendTo(b),d=$("<div>").addClass("ui-spinner").appendTo(c),e=1;13>e;e++)$("<div>").addClass("bar"+e).appendTo(d);$("<span>").addClass("ui-load-text").appendTo(b).html(a.content);var f=b.width()+63,g=b.height();$(window).width(),$(window).height();if(b.css("margin-left",-f/2+"px"),b.css("margin-top",-g/2+"px"),b.hide(),a.model){var h=$("<div>").addClass("ui-load-model").appendTo($("body"));h.hide()}a.ll=b,a.cc=d},start:function(){var a=this,b=$(".ui-load-model"),c=$(".ui-load-action");if(c.length<=0&&this.init(),a.model&&c.length>0){var d=c.width()+63;c.css("margin-left",-d/2+"px"),b.show()}c.show(),a.flag&&setTimeout(function(){var b=$("<div>").addClass("ui-load-close").appendTo($(".ui-load-action"));b.bind("click",function(){a.done(),a.callback(),$(this).remove()});var d=c.width()+63;c.css("margin-left",-(d/2)+"px")},a.time)},done:function(){$(".ui-load-model").length>0&&$(".ui-load-model").fadeOut(),$(".ui-load-action").fadeOut()}};var AILoad=function(a){var b=this;b.content=a.content||"加载中...",b.callback=a.callback||function(){},b.model=a.model||!1,b.init()};AILoad.prototype={init:function(){for(var a=this,b=$("<div>").addClass("ui-load").appendTo($("body")),c=$("<div>").addClass("ui-load-main").appendTo(b),d=$("<div>").addClass("ui-spinner-block").appendTo(c),e=1;13>e;e++)$("<div>").addClass("bar"+e).appendTo(d);a.con=$("<p>").addClass("ui-load-info").appendTo(b).html(a.content);var f=b.width(),g=b.height();$(window).width(),$(window).height();if(b.css("margin-left",-f/2+"px"),b.css("margin-top",-g/2+"px"),b.hide(),a.model){var h=$("<div>").addClass("ui-load-model").appendTo($("body"));a.ui_model=h,a.ui_model.hide()}a.loadTip=b},setContent:function(a){var b=this;b.con.html(a);var c=b.loadTip.width();b.loadTip.css("margin-left",-c/2+"px")},start:function(){var a=this;a.loadTip.length<=0&&this.init(),a.model&&a.loadTip.length>0&&a.ui_model.show(),a.loadTip.show()},done:function(){var a=this;a.ui_model.length>0&&a.ui_model.fadeOut(),a.loadTip.fadeOut(),a.callback()}},function(a){a.fn.showMore=function(b){var c=a.extend({maxHeight:300,content:"#"+this.attr("id").split("-")[1],status:"hide"},b),d=a(content).height(),e=c.status,f=c.maxHeight;return f>d?void 0:(a(content).css({height:f,overflow:"hidden"}),this.click(function(){"hide"==e?(a(content).animate({height:d},"fast"),e="show",a(this).text("收起")):(a(content).animate({height:f},"fast"),e="hide",a(this).text("展开"))}))}}(jQuery),$(function(){$(".ui-collapse-content").hide(),$('<span class="ui-collapse-icon">').appendTo(".ui-collapse-name"),$(".ui-collapse-name").bind("click",function(){var a=$(this).next(".ui-collapse-content");if(a.hasClass("ui-collapse-show"))a.removeClass("ui-collapse-show"),a.prev("p").children("span").removeClass("ui-icon-up");else{for(var b=$(".ui-collapse div.ui-collapse-content"),c=0;c<b.length;c++)$(b[c]).hasClass("ui-collapse-show")&&($(b[c]).removeClass("ui-collapse-show"),$(b[c]).prev("p").children("span").removeClass("ui-icon-up"),$(b[c]).slideToggle(400));a.addClass("ui-collapse-show"),a.prev("p").children("span").addClass("ui-icon-up")}a.slideToggle(400)})}),function(a){a.fn.AIShade=function(a){return new b(this,a)};var b=function(b,c){var d=this;d.el=a(b),d.init(c)};b.prototype={init:function(b){var c=this;c.opts=a.extend({},{content:""},b);var d=a("<div></div>").addClass("ui-shade-bg").appendTo(c.el);"object"==typeof c.opts.content?c.content=c.opts.content:c.content=a("#"+c.opts.content),c.content.appendTo(d),c.shade=d},open:function(){var a=this;a.shade.show(),a.content.show()},close:function(){var a=this;a.shade.hide(),a.content.hide()}}}(jQuery),function(a){a.fn.AISelList=function(a){return new b(a)};var b=function(a){this.init(a)},c=0;b.prototype={init:function(b){var d=this;d.opts=a.extend({},{content:[{text:"立即生效",value:"now"},{text:"下月生效",value:"next"},{text:"一年后生效",value:"oneyear"}],callback:function(){},leftBtn:"取消",rightBtn:"确定"},b);var e=a("<div></div>").addClass("ui-sel-bg").appendTo(a("body")),f=a("<div></div>").addClass("ui-sel-list").appendTo(a("body")),g=a("<div></div>").addClass("ui-sel-header").prependTo(f);a("<span></span>").addClass("ui-sel-btn-left").html(d.opts.leftBtn).appendTo(g).bind("touchend",function(){d.close()}),a("<span></span>").addClass("ui-sel-btn-right").html(d.opts.rightBtn).appendTo(g).bind("touchend",function(){var b=a('input[name="demo_selList"]:checked').attr("id");c=b.charAt(6),d.close(),d.opts.callback()});for(var h=a("<ul></ul>").addClass("ui-sel-item").appendTo(f),i="",j=0;j<d.opts.content.length;j++)i+=j==c?'<li><input class="ui-sel-input" id="radio_'+j+'" type="radio" name="demo_selList" checked="checked" value="'+d.opts.content[j].value+'" /><label for="radio_'+j+'" class="mc-check-radio">'+d.opts.content[j].text+"</label></li>":'<li><input class="ui-sel-input" id="radio_'+j+'" type="radio" name="demo_selList" value="'+d.opts.content[j].value+'" /><label for="radio_'+j+'" class="mc-check-radio">'+d.opts.content[j].text+"</label></li>";h.html(i),d.sel_el=f,d.sel_bg=e},open:function(){var a=this;a.sel_bg.show(),a.sel_el.show(),clearTimeout(a.timeFun),a.sel_el.animate({"margin-top":-a.sel_el.height()})},close:function(){var a=this;a.sel_bg.hide(),a.sel_el.animate({"margin-top":0}),a.timeFun=setTimeout(function(){a.sel_el.hide()},1500)},getSelectVal:function(){return a('input[name="demo_selList"]:checked').val()}}}(jQuery);